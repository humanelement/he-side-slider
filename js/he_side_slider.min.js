var heSideSlider=function(){return{getAtOrBelowWidth:function(a){var c=window.innerWidth;ret=a[0].at_or_below_widths.standard;ret.at_or_below_width="standard";ret.current_width=c;if(void 0!=a&&0<a.length&&(1<a.length&&(a=a.eq(0)),a[0].hasOwnProperty("ordered_at_or_below_widths"))){for(var h=a[0].ordered_at_or_below_widths.length-1;-1<h;h--){var n=parseFloat(a[0].ordered_at_or_below_widths[h]);if(c<=n){ret=a[0].at_or_below_widths[n];for(var f in a[0].at_or_below_widths.standard)a[0].at_or_below_widths.standard.hasOwnProperty(f)&&
(ret.hasOwnProperty(f)||(ret[f]=a[0].at_or_below_widths.standard[f]));ret.at_or_below_width=n;break}}ret.current_width=c}return ret},getActiveView:function(a){var c;if(void 0!=a&&0<a.length){var h=a[0].key_slider_selectors.view;a=a.find(a[0].key_slider_selectors.slider).find(h);1<a.length&&(c=a.filter(".active:first"));if(void 0==c||1>c.length)c=a.eq(0)}return c},slideTo:function(a,c){if(void 0!=a&&0<a.length&&!a.hasClass("transitioning")&&void 0!=c&&(isNaN(c)||(c=a[0].key_slider_elems.view.eq(c)),
0<c.length)){var h=a[0].key_slider_elems.view.filter(".active:first");a[0].key_slider_elems.view.removeClass("active");c.addClass("active");var n=a[0].transition_speed,f=this.getAtOrBelowWidth(a),g=f.slide_mode;g!==a.attr("data-slide-mode")&&a.attr("data-slide-mode",g);"slide-vertical"===g&&(g="slide");switch(g){case "slide":var g=a[0].key_slider_elems.slider,d;"slide-vertical"===f.slide_mode?(d="top",g.css("left","")):(d="left",g.css("top",""));var b=g.parent();b.addClass("slider-boundary");var e=
parseFloat(g.css(d));isNaN(e)&&(e=0,g.css(d,"0"));"slide-vertical"===f.slide_mode?(b=b.offset().top,f=c.offset().top):(b=b.offset().left,f=c.offset().left);b!==f&&(e+=b-f,1>n?g.css(d,e+"px"):(a.addClass("transitioning"),f={},f[d]=e+"px",g.animate(f,n,function(){a.removeClass("transitioning");a[0].hasOwnProperty("he_side_slide_autoslide")&&a[0].he_side_slide_autoslide()})));break;case "fade":0<h.length&&0<n&&(a.addClass("transitioning"),c.css("opacity","0").addClass("fading-in"),h.css("opacity","1").addClass("fading-out"),
h.animate({opacity:"0"},n,function(){h.removeClass("fading-out")}),c.animate({opacity:"1"},n,function(){c.removeClass("fading-in");a.removeClass("transitioning");a[0].hasOwnProperty("he_side_slide_autoslide")&&a[0].he_side_slide_autoslide()}))}a.removeClass("at_first_slide").removeClass("at_last_slide");a[0].key_slider_elems.view.filter(":last").hasClass("active")&&a.addClass("at_last_slide");a[0].key_slider_elems.view.eq(0).hasClass("active")&&a.addClass("at_first_slide")}},slideNext:function(a){var c=
this;void 0!=a&&0<a.length&&a.each(function(){jQuery(this)[0].key_slider_elems.view.each(function(a){jQuery(this).attr("data-view-index",a+"")});var a=jQuery(this)[0].key_slider_elems.view.filter(".active:first"),a=parseInt(a.attr("data-view-index")),a=jQuery(this)[0].key_slider_elems.view.filter('[data-view-index="'+(a+1)+'"]');1>a.length&&jQuery(this)[0].circular_next_prev&&(a=jQuery(this)[0].key_slider_elems.view.eq(0));jQuery(this)[0].key_slider_elems.view.removeAttr("data-view-index");c.slideTo(jQuery(this),
a)})},slidePrev:function(a){var c=this;void 0!=a&&0<a.length&&a.each(function(){jQuery(this)[0].key_slider_elems.view.each(function(a){jQuery(this).attr("data-view-index",a+"")});var a=jQuery(this)[0].key_slider_elems.view.filter(".active:first"),a=parseInt(a.attr("data-view-index")),a=jQuery(this)[0].key_slider_elems.view.filter('[data-view-index="'+(a-1)+'"]');1>a.length&&jQuery(this)[0].circular_next_prev&&(a=jQuery(this)[0].key_slider_elems.view.filter(":last"));jQuery(this)[0].key_slider_elems.view.removeAttr("data-view-index");
c.slideTo(jQuery(this),a)})},init:function(a){var c=this,h=function(a,c,b){return a.hasOwnProperty(c)?a[c]:b},n=function(a,c,b){var l;a=h(a,c);void 0!=a&&(l=void 0!=b?b.find(a):jQuery(a),1>l.length&&(l=void 0));return l},f=["prev_btn","next_btn","slider","view"],g={},d=function(a,c){for(var b={missing:[]},l=0;l<f.length;l++){var d=n(a,f[l],c);void 0!=d?(b[f[l]]=d,g[f[l]]=a[f[l]]):b.missing.push(f[l])}return b},b=n(a,"wrap");if(void 0!=b&&!b.hasClass("init_he_slider")&&(b.addClass("init_he_slider"),
b[0].circular_next_prev=h(a,"circular_next_prev",!1),b[0].slide_mode=h(a,"slide_mode","slide"),b.attr("data-slide-mode",b[0].slide_mode),b[0].transition_speed=h(a,"transition_speed",300),d=d(a,b),void 0!=d&&d.hasOwnProperty("slider")&&d.hasOwnProperty("view"))){d.slider.addClass("he_slider");d.view.addClass("he_view");d.view.children().addClass("he_item");b[0].key_slider_selectors=g;b[0].key_slider_elems=d;d.view.eq(0).addClass("active");var e=h(a,"items_per_view",1),p=h(a,"at_or_below_widths");b[0].at_or_below_widths=
{standard:{items_per_view:e,slide_mode:b[0].slide_mode}};e=[];if(void 0!=p){for(var m in p)if(p.hasOwnProperty(m)&&(b[0].at_or_below_widths[m]=p[m],m=parseFloat(m),!isNaN(m)))if(1>e.length)e.push(m);else if(1===e.length)e[0]<m?e.splice(0,0,m):e.push(m);else if(e[e.length-1]>m)e.push(m);else for(var q=0;q<e.length;q++)if(e[q]<m){e.splice(q,0,m);break}b[0].ordered_at_or_below_widths=e}d.hasOwnProperty("prev_btn")&&(d.prev_btn.addClass("he_prev"),d.prev_btn.click(function(){c.slidePrev(jQuery(this).parents(".init_he_slider:first"))}));
d.hasOwnProperty("next_btn")&&(d.next_btn.addClass("he_next"),d.next_btn.click(function(){c.slideNext(jQuery(this).parents(".init_he_slider:first"))}));h(a,"swipe_slide",!0)&&(jQuery(b[0].key_slider_elems.slider).on("touchmove",function(a){a.originalEvent&&(a=a.originalEvent);var b="prev_he_slide_swipe_x",d="he_slide_direction_x",l="pageX",f="right",e="left";"slide-vertical"===c.getAtOrBelowWidth(jQuery(this).parents(".init_he_slider:first")).slide_mode&&(l="pageY",b="prev_he_slide_swipe_y",d="he_slide_direction_y",
f="down",e="up");var k=jQuery(this)[0][b];void 0!=k&&(a[l]<k?(console.log(k-a[l]),10<=k-a[l]&&(jQuery(this)[0][d]=f,a.preventDefault(),a.stopPropagation())):k<a[l]&&10<=a[l]-k&&(jQuery(this)[0][d]=e,a.preventDefault(),a.stopPropagation()));jQuery(this)[0][b]=a[l]}),jQuery(b[0].key_slider_elems.slider).on("touchend",function(a){var b=c.getAtOrBelowWidth(jQuery(this).parents(".init_he_slider:first")).slide_mode,d=jQuery(this)[0].he_slide_direction_x;"slide-vertical"===b&&(d=jQuery(this)[0].he_slide_direction_y);
if(void 0!=d)switch(d){case "left":c.slidePrev(jQuery(this).parents(".init_he_slider:first"));a.preventDefault();a.stopPropagation();break;case "right":c.slideNext(jQuery(this).parents(".init_he_slider:first"));a.preventDefault();a.stopPropagation();break;case "up":c.slidePrev(jQuery(this).parents(".init_he_slider:first"));a.preventDefault();a.stopPropagation();break;case "down":c.slideNext(jQuery(this).parents(".init_he_slider:first")),a.preventDefault(),a.stopPropagation()}jQuery(this)[0].he_slide_direction_x=
void 0;jQuery(this)[0].prev_he_slide_swipe_x=void 0;jQuery(this)[0].he_slide_direction_y=void 0;jQuery(this)[0].prev_he_slide_swipe_y=void 0}));var r=h(a,"time_between_autoslide",0);0<r&&(b[0].he_side_slide_autoslide=function(){setTimeout(function(){b.hasClass("over")?b[0].he_side_slide_autoslide():c.slideNext(b)},r)},b.hover(function(){b.addClass("over")},function(){b.removeClass("over")}),b.mouseleave(function(){b.removeClass("over")}),b[0].he_side_slide_autoslide());document.hasOwnProperty("init_he_slider")||
(document.init_he_slider=!0,jQuery(window).ready(function(){var a=function(a){var b=c.getAtOrBelowWidth(a).items_per_view,d=a[0].key_slider_selectors.view,k=a.find(a[0].key_slider_selectors.slider).find(d),f=!1;k.each(function(a){var c=jQuery(this).children().length;if(c!==b){if(a!==k.length-1)return f=!0,!1;if(c>b||0===c)f=!0}});if(f){for(var e=k.children(),h=e.length,g=0;0<h;)h-=b,g++;if(g>k.length)for(h=g-k.length,g=0;g<h;g++){var m=k.filter(":last").clone();m.children().remove();k.filter(":last").after(m);
k=a.find(d);e=k.children()}else if(k.length>g)for(h=k.length-g,g=0;g<h;g++)if(1<k.length)m=k.filter(":last"),k.eq(k.length-2).append(m.children()),m.remove(),k=a.find(d),e=k.children();else break;var n=0,p=b;e.each(function(a){jQuery(this).attr("data-view-index",n);a+1===p&&(p+=b,n++)});k.each(function(a){a=e.filter('[data-view-index="'+a+'"]');jQuery(this).append(a.removeAttr("data-view-index"))});a[0].key_slider_elems.view=k;d=c.getActiveView(a);c.slideTo(a,d)}},b=function(){jQuery(".init_he_slider").each(function(){a(jQuery(this));
var b=c.getAtOrBelowWidth(jQuery(this));if("slide"===b.slide_mode||"slide-vertical"===b.slide_mode)b=c.getActiveView(jQuery(this)),c.slideTo(jQuery(this),b)})},d;jQuery(window).resize(function(){clearTimeout(d);d=setTimeout(function(){b()},100)});b()}))}return{}}}}();
